{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/uis/recovery-screen/page.js"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Button, Container, Stack, TextField, Typography } from \"@mui/material\"\n\nexport default function RecoveryScreen() {\n  const router = useRouter()\n  const [email, setEmail] = useState(\"\")\n  const [error, setError] = useState(\"\")\n  const [success, setSuccess] = useState(\"\")\n\n  const handleRecovery = async () => {\n    setError(\"\")\n    setSuccess(\"\")\n\n    if (!email) {\n      setError(\"Please enter your email.\")\n      return\n    }\n\n    try {\n      const response = await fetch(`/api/users?operation=recover`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email })\n      })\n\n      const data = await response.json()\n\n      if (data.error) {\n        setError(data.error)\n        return\n      }\n\n      setSuccess(\"Check your email for the recovery code.\")\n      // Redirection vers Reset Password avec email\n      router.push(`reset-password?email=${encodeURIComponent(email)}`)\n\n    } catch (err) {\n      console.error(err)\n      setError(\"An unexpected error occurred.\")\n    }\n  }\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Stack direction=\"column\" spacing={2} mt={5}>\n        <Typography variant=\"h5\" textAlign=\"center\">Password Recovery</Typography>\n        <TextField \n          placeholder=\"Enter your email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        {error && <Typography color=\"error\">{error}</Typography>}\n        {success && <Typography color=\"success.main\">{success}</Typography>}\n        <Button variant=\"contained\" onClick={handleRecovery}>Send Recovery Code</Button>\n      </Stack>\n    </Container>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QAEX,IAAI,CAAC,OAAO;YACV,SAAS;YACT;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,4BAA4B,CAAC,EAAE;gBAC3D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAM;YAC/B;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,KAAK,EAAE;gBACd,SAAS,KAAK,KAAK;gBACnB;YACF;YAEA,WAAW;YACX,6CAA6C;YAC7C,OAAO,IAAI,CAAC,CAAC,qBAAqB,EAAE,mBAAmB,QAAQ;QAEjE,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,SAAS;QACX;IACF;IAEA,qBACE,8OAAC,uNAAS;QAAC,UAAS;kBAClB,cAAA,8OAAC,uMAAK;YAAC,WAAU;YAAS,SAAS;YAAG,IAAI;;8BACxC,8OAAC,2NAAU;oBAAC,SAAQ;oBAAK,WAAU;8BAAS;;;;;;8BAC5C,8OAAC,uNAAS;oBACR,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;gBAEzC,uBAAS,8OAAC,2NAAU;oBAAC,OAAM;8BAAS;;;;;;gBACpC,yBAAW,8OAAC,2NAAU;oBAAC,OAAM;8BAAgB;;;;;;8BAC9C,8OAAC,2MAAM;oBAAC,SAAQ;oBAAY,SAAS;8BAAgB;;;;;;;;;;;;;;;;;AAI7D","debugId":null}}]
}