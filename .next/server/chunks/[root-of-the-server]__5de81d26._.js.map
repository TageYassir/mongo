{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/api/models.js"],"sourcesContent":["// (full file with messageSchema updated to include seen/seenAt)\n\nimport mongoose from \"mongoose\";\n/**\n * Use an environment variable for the URI in production.\n * Fallback to the previous hard-coded URI for local dev if not set.\n */\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017/SocialDB\";\n\n/**\n * Global cache for the connection (useful for serverless / dev hot-reload).\n * We attach to global so multiple module reloads reuse the same connection.\n */\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nasync function connectToDatabase() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    // options can be tuned as needed\n    const opts = {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    };\n    cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongooseInstance) => {\n      return mongooseInstance;\n    });\n  }\n\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n\n/**\n * Define schemas and models.\n * Use existing compiled models if present (mongoose.models).\n */\n\nconst locationSchema = new mongoose.Schema({ lat: Number, lng: Number }, { _id: false });\n\nconst userSchema = new mongoose.Schema({\n  firstName: { type: String, required: true },\n  lastName: { type: String, required: true },\n  gender: { type: String, required: true },\n  country: { type: String, required: true },\n  pseudo: { type: String, required: true },\n  email: { type: String, required: true, unique: true },\n  password: { type: String, required: true },\n  isOnline: { type: Boolean, default: false },\n  isValidated: { type: Boolean, default: false },\n  location: { type: locationSchema, default: null },\n  validationCode: { type: String, default: null },\n  recoveryCode: { type: String, default: null },\n}, { timestamps: true });\n\nconst postSchema = new mongoose.Schema({\n  content: { type: String, required: true },\n  dateTime: { type: Date, required: true, default: Date.now },\n  user: { type: mongoose.Schema.Types.ObjectId, ref: \"User\" },\n}, { timestamps: true });\n\n/**\n * Message schema - stores a single direct message between two users.\n * Fields:\n * - senderId: ObjectId (ref User)\n * - receiverId: ObjectId (ref User)\n * - text: String (optional)\n * - sentAt: Date\n * - attachments: array of files { type, url, filename, size, mimeType }\n * - seen: Boolean (whether receiver has seen the message)\n * - seenAt: Date (when receiver saw the message)\n */\nconst attachmentSubSchema = new mongoose.Schema({\n  _id: false,\n  type: { type: String }, // 'image' | 'audio' | other\n  url: { type: String, required: true },\n  filename: { type: String },\n  size: { type: Number },\n  mimeType: { type: String },\n}, { _id: false });\n\nconst messageSchema = new mongoose.Schema({\n  senderId: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\n  receiverId: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\n  text: { type: String, required: false, default: \"\" }, // optional now\n  sentAt: { type: Date, required: true, default: Date.now },\n  attachments: { type: [attachmentSubSchema], default: [] },\n  // NEW: read/seen indicators\n  seen: { type: Boolean, required: true, default: false },\n  seenAt: { type: Date, required: false, default: null },\n}, { timestamps: true });\n\n/**\n * Friend (friendship) schema - stores friend requests and accepted/refused relationships\n * Fields:\n * - senderId: ObjectId (ref User)  -> the user who initiated the request\n * - receiverId: ObjectId (ref User) -> the user receiving the request\n * - status: String -> 'pending' | 'accepted' | 'refused'\n */\nconst friendSchema = new mongoose.Schema({\n  senderId: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\n  receiverId: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\n  status: { type: String, enum: [\"pending\", \"accepted\", \"refused\"], default: \"pending\" },\n}, { timestamps: true });\n\n/**\n * Wallet schema - stores a walletId related to a user and its balance\n * Fields:\n * - walletId: String (unique wallet identifier)\n * - userId: ObjectId (ref User)\n * - balance: Number\n */\nconst walletSchema = new mongoose.Schema({\n  walletId: { type: String, required: true, unique: true },\n  userId: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true, unique: true },\n  balance: { type: Number, required: true, default: 0 },\n}, { timestamps: true });\n\n/**\n * Transaction schema - records transfers between wallets\n * Fields:\n * - senderWalletId: String (walletId of sender)\n * - receiverWalletId: String (walletId of receiver)\n * - amount: Number\n * - status: String (optional - pending/completed/failed)\n * - sentAt: Date\n */\nconst transactionSchema = new mongoose.Schema({\n  senderWalletId: { type: String, required: true },\n  receiverWalletId: { type: String, required: true },\n  amount: { type: Number, required: true },\n  status: { type: String, enum: [\"pending\", \"completed\", \"failed\"], default: \"completed\" },\n  sentAt: { type: Date, required: true, default: Date.now },\n}, { timestamps: true });\n\n/**\n * Avoid model overwrite in dev / hot-reload environments\n */\nconst User = mongoose.models.User || mongoose.model(\"User\", userSchema);\nconst Post = mongoose.models.Post || mongoose.model(\"Post\", postSchema);\nconst Message = mongoose.models.Message || mongoose.model(\"Message\", messageSchema);\nconst Friend = mongoose.models.Friend || mongoose.model(\"Friend\", friendSchema);\nconst Wallet = mongoose.models.Wallet || mongoose.model(\"Wallet\", walletSchema);\nconst Transaction = mongoose.models.Transaction || mongoose.model(\"Transaction\", transactionSchema);\n\n/**\n * Ensure connection is established when this module is imported.\n */\nconnectToDatabase().catch((err) => {\n  console.error(\"connectToDatabase error:\", err);\n});\n\nexport {\n  connectToDatabase,\n  User,\n  Post,\n  Message,\n  Friend,\n  Wallet,\n  Transaction,\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 361, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/api/crypto/route.js"],"sourcesContent":["// Converted from Express-style router to Next app route handlers.\r\n// This file implements a minimal dispatch for query-based calls your UI probes:\r\n// - GET /api/crypto?operation=get-wallets&userId=...\r\n// - GET /api/crypto?operation=get-transactions&walletId=... (or userId -> looks up wallet then txs)\r\n// - POST /api/crypto with operation=create-wallet,add-balance,adjust-balance\r\n// Any other operation returns 400 (unsupported).\r\n\r\nimport mongoose from 'mongoose';\r\n\r\nfunction jsonResponse(obj, status = 200) {\r\n  return new Response(JSON.stringify(obj), { status, headers: { 'Content-Type': 'application/json' } });\r\n}\r\nfunction jsonError(status, message) {\r\n  return jsonResponse({ success: false, error: message }, status);\r\n}\r\n\r\n// Helper to import models (ESM/CommonJS safe)\r\nasync function loadModels() {\r\n  const modelsMod = await import('../models').catch(() => null);\r\n  return modelsMod?.default || modelsMod || require('../models');\r\n}\r\n\r\nexport async function GET(req) {\r\n  try {\r\n    const url = new URL(req.url);\r\n    const operation = url.searchParams.get('operation') || null;\r\n\r\n    const { Wallet, Transaction } = await loadModels();\r\n\r\n    if (operation === 'get-wallets' || operation === 'get-wallet') {\r\n      const userId = url.searchParams.get('userId') || null;\r\n      if (!userId) return jsonError(400, 'userId is required');\r\n\r\n      // try find one (most of your endpoints return single wallet)\r\n      const wallet = await Wallet.findOne({ userId }).lean();\r\n      if (!wallet) return jsonError(404, 'Wallet not found');\r\n      return jsonResponse({ success: true, wallet });\r\n    }\r\n\r\n    if (operation === 'get-transactions') {\r\n      // try walletId first; if userId provided, resolve wallet then return txs\r\n      const walletId = url.searchParams.get('walletId') || null;\r\n      const userId = url.searchParams.get('userId') || null;\r\n      const limit = Math.min(100, Number(url.searchParams.get('limit')) || 20);\r\n\r\n      let resolvedWalletId = walletId;\r\n      if (!resolvedWalletId && userId) {\r\n        const wallet = await Wallet.findOne({ userId }).lean();\r\n        resolvedWalletId = wallet?.walletId || null;\r\n        if (!resolvedWalletId) return jsonError(404, 'Wallet not found for user');\r\n      }\r\n\r\n      const filter = resolvedWalletId\r\n        ? { $or: [{ senderWalletId: resolvedWalletId }, { receiverWalletId: resolvedWalletId }] }\r\n        : {};\r\n\r\n      const transactions = await Transaction.find(filter).sort({ createdAt: -1 }).limit(limit).lean();\r\n      return jsonResponse({ success: true, transactions });\r\n    }\r\n\r\n    // If no recognized operation, return helpful 400\r\n    return jsonError(400, 'Unsupported or missing operation query parameter');\r\n  } catch (err) {\r\n    console.error('/api/crypto GET error', err);\r\n    return jsonError(500, 'Internal server error');\r\n  }\r\n}\r\n\r\n// Minimal POST handler: support create-wallet, add-balance and adjust-balance\r\nexport async function POST(req) {\r\n  try {\r\n    const url = new URL(req.url);\r\n    const operation = url.searchParams.get('operation') || null;\r\n    const body = await req.json().catch(() => ({}));\r\n    const op = operation || body.operation || null;\r\n\r\n    const { Wallet, Transaction } = await loadModels();\r\n\r\n    if (op === 'create-wallet' || op === 'create') {\r\n      const userId = body.userId || null;\r\n      if (!userId) return jsonError(400, 'userId is required');\r\n      let wallet = await Wallet.findOne({ userId }).lean();\r\n      if (wallet) return jsonResponse({ success: true, wallet });\r\n\r\n      // generate simple wallet id\r\n      const walletId = 'w_' + Date.now().toString(36) + Math.random().toString(16).slice(2, 8);\r\n      wallet = await Wallet.create({ walletId, userId, balance: 0 });\r\n      return jsonResponse({ success: true, wallet });\r\n    }\r\n\r\n    if (op === 'add-balance' || op === 'topup') {\r\n      const walletId = body.walletId || null;\r\n      const amount = Number(body.amount || 0);\r\n      if (!walletId) return jsonError(400, 'walletId is required');\r\n      if (!amount || isNaN(amount) || amount <= 0) return jsonError(400, 'amount must be a positive number');\r\n\r\n      const updated = await Wallet.findOneAndUpdate({ walletId }, { $inc: { balance: amount } }, { new: true }).lean();\r\n      if (!updated) return jsonError(404, 'Wallet not found');\r\n      await Transaction.create({ senderWalletId: 'SYSTEM', receiverWalletId: walletId, amount, status: 'completed' });\r\n      return jsonResponse({ success: true, wallet: updated });\r\n    }\r\n\r\n    // NEW: adjust-balance supports positive (add) or negative (subtract) amounts.\r\n    // If subtracting, ensure wallet has sufficient balance (no negative balances).\r\n    if (op === 'adjust-balance' || op === 'adjust') {\r\n      const walletId = body.walletId || null;\r\n      const amount = Number(body.amount);\r\n      if (!walletId) return jsonError(400, 'walletId is required');\r\n      if (!Number.isFinite(amount)) return jsonError(400, 'amount must be a number');\r\n\r\n      if (amount === 0) return jsonError(400, 'amount must be non-zero');\r\n\r\n      if (amount < 0) {\r\n        // subtract: require enough balance\r\n        const dec = Math.abs(amount);\r\n        const updated = await Wallet.findOneAndUpdate(\r\n          { walletId, balance: { $gte: dec } },\r\n          { $inc: { balance: -dec } },\r\n          { new: true }\r\n        ).lean();\r\n        if (!updated) return jsonError(400, 'Insufficient funds or wallet not found');\r\n        // record transaction: sender is wallet, receiver is SYSTEM (for audit)\r\n        await Transaction.create({ senderWalletId: walletId, receiverWalletId: 'SYSTEM', amount: dec, status: 'completed' });\r\n        return jsonResponse({ success: true, wallet: updated });\r\n      } else {\r\n        // positive adjust: add balance\r\n        const updated = await Wallet.findOneAndUpdate({ walletId }, { $inc: { balance: amount } }, { new: true }).lean();\r\n        if (!updated) return jsonError(404, 'Wallet not found');\r\n        await Transaction.create({ senderWalletId: 'SYSTEM', receiverWalletId: walletId, amount, status: 'completed' });\r\n        return jsonResponse({ success: true, wallet: updated });\r\n      }\r\n    }\r\n\r\n    return jsonError(400, 'Unsupported POST operation');\r\n  } catch (err) {\r\n    console.error('/api/crypto POST error', err);\r\n    return jsonError(500, 'Internal server error');\r\n  }\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}