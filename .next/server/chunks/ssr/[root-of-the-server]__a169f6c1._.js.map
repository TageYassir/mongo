{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/uis/chat/%5Bid%5D/page.js"],"sourcesContent":["// New dynamic app route: app/uis/chat/[pseudo]/page.js\r\n// Next.js app router will pass params.pseudo to this server component.\r\nimport React from \"react\";\r\n\r\n/**\r\n * Chat page for a given pseudo.\r\n * - params.pseudo will contain the dynamic segment.\r\n * - This page fetches the conversation using the pseudo.\r\n *\r\n * Adjust the API endpoint to resolve pseudo -> conversation/messages on the server.\r\n */\r\nexport default async function ChatPage({ params }) {\r\n  const { pseudo } = params;\r\n\r\n  let conversation = null;\r\n  try {\r\n    const base = process.env.NEXT_PUBLIC_API_BASE_URL || \"\";\r\n    const res = await fetch(`${base}/api/conversations/by-pseudo/${encodeURIComponent(pseudo)}`, { cache: \"no-store\" });\r\n    if (res.ok) conversation = await res.json();\r\n  } catch (err) {\r\n    // swallow - render a helpful message\r\n    console.warn(\"Failed to fetch conversation for pseudo:\", pseudo, err);\r\n  }\r\n\r\n  return (\r\n    <main style={{ padding: 16 }}>\r\n      <h1>Chat — {pseudo}</h1>\r\n\r\n      {conversation ? (\r\n        <section>\r\n          <h2 style={{ marginTop: 8 }}>{conversation.title || conversation.pseudo || pseudo}</h2>\r\n\r\n          <div style={{ marginTop: 12 }}>\r\n            <strong>Members:</strong>{\" \"}\r\n            {(conversation.members && conversation.members.join?.(\", \")) || (conversation.members?.map?.(m => m.pseudo || m.username || m).join(\", \")) || \"—\"}\r\n          </div>\r\n\r\n          <div style={{ marginTop: 16 }}>\r\n            <h3>Messages</h3>\r\n            <div style={{ border: \"1px solid #eee\", padding: 12, borderRadius: 8, maxHeight: 420, overflow: \"auto\" }}>\r\n              {Array.isArray(conversation.messages) && conversation.messages.length > 0 ? (\r\n                conversation.messages.map((m, i) => (\r\n                  <div key={m._id || i} style={{ marginBottom: 10 }}>\r\n                    <div style={{ fontSize: 13, color: \"#333\" }}>{m.author || m.from || \"unknown\"}</div>\r\n                    <div style={{ background: \"#f9f9f9\", padding: 8, borderRadius: 6 }}>{m.text || m.body || \"\"}</div>\r\n                    <div style={{ fontSize: 11, color: \"#888\", marginTop: 4 }}>{m.createdAt || m.ts || \"\"}</div>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <div style={{ color: \"#666\" }}>No messages found.</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </section>\r\n      ) : (\r\n        <div style={{ color: \"#666\" }}>\r\n          Conversation for <strong>{pseudo}</strong> not found. Ensure pseudo is correct and that your API supports lookup by pseudo.\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,uDAAuD;AACvD,uEAAuE;;;;;;AACvE;;;AASe,eAAe,SAAS,EAAE,MAAM,EAAE;IAC/C,MAAM,EAAE,MAAM,EAAE,GAAG;IAEnB,IAAI,eAAe;IACnB,IAAI;QACF,MAAM,OAAO,QAAQ,GAAG,CAAC,wBAAwB,IAAI;QACrD,MAAM,MAAM,MAAM,MAAM,GAAG,KAAK,6BAA6B,EAAE,mBAAmB,SAAS,EAAE;YAAE,OAAO;QAAW;QACjH,IAAI,IAAI,EAAE,EAAE,eAAe,MAAM,IAAI,IAAI;IAC3C,EAAE,OAAO,KAAK;QACZ,qCAAqC;QACrC,QAAQ,IAAI,CAAC,4CAA4C,QAAQ;IACnE;IAEA,qBACE,8OAAC;QAAK,OAAO;YAAE,SAAS;QAAG;;0BACzB,8OAAC;;oBAAG;oBAAQ;;;;;;;YAEX,6BACC,8OAAC;;kCACC,8OAAC;wBAAG,OAAO;4BAAE,WAAW;wBAAE;kCAAI,aAAa,KAAK,IAAI,aAAa,MAAM,IAAI;;;;;;kCAE3E,8OAAC;wBAAI,OAAO;4BAAE,WAAW;wBAAG;;0CAC1B,8OAAC;0CAAO;;;;;;4BAAkB;4BACxB,aAAa,OAAO,IAAI,aAAa,OAAO,CAAC,IAAI,GAAG,SAAW,aAAa,OAAO,EAAE,MAAM,CAAA,IAAK,EAAE,MAAM,IAAI,EAAE,QAAQ,IAAI,GAAG,KAAK,SAAU;;;;;;;kCAGhJ,8OAAC;wBAAI,OAAO;4BAAE,WAAW;wBAAG;;0CAC1B,8OAAC;0CAAG;;;;;;0CACJ,8OAAC;gCAAI,OAAO;oCAAE,QAAQ;oCAAkB,SAAS;oCAAI,cAAc;oCAAG,WAAW;oCAAK,UAAU;gCAAO;0CACpG,MAAM,OAAO,CAAC,aAAa,QAAQ,KAAK,aAAa,QAAQ,CAAC,MAAM,GAAG,IACtE,aAAa,QAAQ,CAAC,GAAG,CAAC,CAAC,GAAG,kBAC5B,8OAAC;wCAAqB,OAAO;4CAAE,cAAc;wCAAG;;0DAC9C,8OAAC;gDAAI,OAAO;oDAAE,UAAU;oDAAI,OAAO;gDAAO;0DAAI,EAAE,MAAM,IAAI,EAAE,IAAI,IAAI;;;;;;0DACpE,8OAAC;gDAAI,OAAO;oDAAE,YAAY;oDAAW,SAAS;oDAAG,cAAc;gDAAE;0DAAI,EAAE,IAAI,IAAI,EAAE,IAAI,IAAI;;;;;;0DACzF,8OAAC;gDAAI,OAAO;oDAAE,UAAU;oDAAI,OAAO;oDAAQ,WAAW;gDAAE;0DAAI,EAAE,SAAS,IAAI,EAAE,EAAE,IAAI;;;;;;;uCAH3E,EAAE,GAAG,IAAI;;;;8DAOrB,8OAAC;oCAAI,OAAO;wCAAE,OAAO;oCAAO;8CAAG;;;;;;;;;;;;;;;;;;;;;;qCAMvC,8OAAC;gBAAI,OAAO;oBAAE,OAAO;gBAAO;;oBAAG;kCACZ,8OAAC;kCAAQ;;;;;;oBAAgB;;;;;;;;;;;;;AAKpD","debugId":null}}]
}