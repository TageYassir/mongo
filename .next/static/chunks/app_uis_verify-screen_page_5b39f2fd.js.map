{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/uis/verify-screen/page.js"],"sourcesContent":["\"use client\"\n\n/** React Imports */\nimport { useState } from \"react\"\n/** Next Navigation */\nimport { useSearchParams, useRouter } from \"next/navigation\"\n/** MUI Imports */\nimport { Button, Container, Stack, TextField, Typography } from \"@mui/material\"\n\nexport default function VerifyPage() {\n  const searchParams = useSearchParams()\n  const router = useRouter()\n\n  const email = searchParams.get(\"email\") // récupère l’email depuis l’URL\n  const [code, setCode] = useState(\"\")\n  const [error, setError] = useState(\"\")\n  const [success, setSuccess] = useState(\"\")\n\n  const verifyEmail = async () => {\n    setError(\"\")\n    setSuccess(\"\")\n\n    if (!code) {\n      setError(\"Please enter the verification code.\")\n      return\n    }\n\n    try {\n      const response = await fetch(`http://localhost:3000/api/users?operation=verify-code`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, code })\n      })\n\n      const data = await response.json()\n\n      if (data.error) {\n        setError(data.error)\n        return\n      }\n\n      setSuccess(\"Email verified successfully! You can now login.\")\n      // Optionnel : redirection vers login après 2 secondes\n      setTimeout(() => {\n        router.push(\"/uis\")\n      }, 2000)\n\n    } catch (err) {\n      console.error(err)\n      setError(\"An unexpected error occurred. Please try again.\")\n    }\n  }\n\n  return (\n    <Container maxWidth=\"sm\" style={{ marginTop: \"50px\" }}>\n      <Stack spacing={3} alignItems=\"center\">\n        <Typography variant=\"h5\">Verify Your Email</Typography>\n        <Typography variant=\"body2\">\n          We sent a verification code to <strong>{email}</strong>. Please enter it below.\n        </Typography>\n\n        <TextField\n          label=\"Verification Code\"\n          variant=\"outlined\"\n          value={code}\n          onChange={(e) => setCode(e.target.value)}\n        />\n\n        {error && <Typography color=\"error\">{error}</Typography>}\n        {success && <Typography color=\"primary\">{success}</Typography>}\n\n        <Button variant=\"contained\" size=\"large\" onClick={verifyEmail}>\n          Verify\n        </Button>\n      </Stack>\n    </Container>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA,kBAAkB,GAClB;AACA,oBAAoB,GACpB;AACA,gBAAgB,GAChB;AAAA;AAAA;AAAA;AAAA;;;AAPA;;;;AASe,SAAS;;IACtB,MAAM,eAAe,IAAA,wJAAe;IACpC,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,QAAQ,aAAa,GAAG,CAAC,SAAS,gCAAgC;;IACxE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,cAAc;QAClB,SAAS;QACT,WAAW;QAEX,IAAI,CAAC,MAAM;YACT,SAAS;YACT;QACF;QAEA,IAAI;YACF,MAAM,WAAW,MAAM,MAAO,yDAAwD;gBACpF,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAK;YACrC;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,KAAK,KAAK,EAAE;gBACd,SAAS,KAAK,KAAK;gBACnB;YACF;YAEA,WAAW;YACX,sDAAsD;YACtD,WAAW;gBACT,OAAO,IAAI,CAAC;YACd,GAAG;QAEL,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;YACd,SAAS;QACX;IACF;IAEA,qBACE,6LAAC,0NAAS;QAAC,UAAS;QAAK,OAAO;YAAE,WAAW;QAAO;kBAClD,cAAA,6LAAC,0MAAK;YAAC,SAAS;YAAG,YAAW;;8BAC5B,6LAAC,8NAAU;oBAAC,SAAQ;8BAAK;;;;;;8BACzB,6LAAC,8NAAU;oBAAC,SAAQ;;wBAAQ;sCACK,6LAAC;sCAAQ;;;;;;wBAAe;;;;;;;8BAGzD,6LAAC,0NAAS;oBACR,OAAM;oBACN,SAAQ;oBACR,OAAO;oBACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;;;;;;gBAGxC,uBAAS,6LAAC,8NAAU;oBAAC,OAAM;8BAAS;;;;;;gBACpC,yBAAW,6LAAC,8NAAU;oBAAC,OAAM;8BAAW;;;;;;8BAEzC,6LAAC,8MAAM;oBAAC,SAAQ;oBAAY,MAAK;oBAAQ,SAAS;8BAAa;;;;;;;;;;;;;;;;;AAMvE;GApEwB;;QACD,wJAAe;QACrB,kJAAS;;;KAFF","debugId":null}}]
}