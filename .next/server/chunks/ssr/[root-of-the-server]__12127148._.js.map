{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/uis/register-screen/page.js"],"sourcesContent":["\"use client\"\n\n/** React MUI Imports */\nimport { Button, colors, Container, MenuItem, Stack, TextField, Typography } from \"@mui/material\"\n/** Next Imports */\nimport Image from \"next/image\"\n/** React Imports */\nimport { useState } from \"react\"\n/** Next Nagivation */\nimport { useRouter } from \"next/navigation\"\n\nexport default function Page() {\n  /** Navigation Management */\n  const router = useRouter()\n\n  /** States */\n  let [email, setEmail] = useState(\"\")\n  let [password, setPassword] = useState(\"\")\n  let [pseudo, setPseudo] = useState(\"\")\n  let [country, setCountry] = useState(\"\")\n  let [gender, setGender] = useState(\"\")\n  let [firstName, setFirstName] = useState(\"\")\n  let [lastName, setLastName] = useState(\"\")\n  let [error, setError] = useState(null)\n  let [loading, setLoading] = useState(false)\n\n  /** Handlers */\n  const handleEmailChange = function(event){\n    setEmail(event.target.value)\n  }\n\n  const handlePasswordChange = function(event){\n    setPassword(event.target.value)\n  }\n\n  const handlePseudoChange = function(event){\n    setPseudo(event.target.value)\n  }\n\n  const handleCountryChange = function(event){\n    setCountry(event.target.value)\n  }\n\n  const handleGenderChange = function(event){\n    setGender(event.target.value)\n  }\n\n  const handleFirstNameChange = function(event){\n    setFirstName(event.target.value)\n  }\n\n  const handleLastNameChange = function(event){\n    setLastName(event.target.value)\n  }\n\n  /** Actions */\nconst create = async function(event){\n  event.preventDefault()\n  setError(null)\n\n  if (!email || !password) {\n    setError(\"Please provide email and password.\")\n    return\n  }\n\n  setLoading(true)\n  try {\n    const response = await fetch(\"/api/users?operation=create\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        email, password, pseudo, country, gender, firstName, lastName\n      })\n    })\n\n    const data = await response.json()\n\n    if (response.status === 201) {\n      // Created successfully — redirect to login page\n      router.push(\"/uis\")\n      return\n    }\n\n    if (response.status === 409) {\n      // Email already exists — show message and offer to go to login\n      setError(data?.error || \"An account with this email already exists. Please login.\")\n      return\n    }\n\n    // other errors\n    setError(data?.error || \"Registration failed. Please try again.\")\n  } catch (err) {\n    setError(\"Network error. Please try again.\")\n  } finally {\n    setLoading(false)\n  }\n}\n\n  const handleCancel = function(event){\n    event.preventDefault()\n    // redirect to login page\n    router.push(\"/uis\")\n  }\n\n  return(\n    <Container maxWidth=\"sm\">\n      <Stack direction={\"column\"} spacing={3} justifyContent={\"space-around\"} alignItems={\"center\"} >\n        <Stack direction={\"column\"} spacing={1} alignSelf={\"stretch\"} >\n          <Typography variant=\"h5\" textAlign={\"center\"}>\n            Welcome to Chocolat Social\n          </Typography>\n          <Typography variant=\"body2\" textAlign={\"center\"}>\n            Welcome to Chocolat Social Welcome to Chocolat Social  Welcome to Chocolat Social Welcome to Chocolat Social Welcome to Chocolat Social \n          </Typography>\n          <Typography variant=\"button\" textAlign={\"center\"}>\n            Create an Account\n          </Typography>\n        </Stack>\n        <Stack direction={\"column\"} spacing={1} alignSelf={\"stretch\"} >\n          <TextField value={email} onChange={handleEmailChange}  variant=\"outlined\" placeholder=\"Email\"/>\n          <TextField value={password} onChange={handlePasswordChange} variant=\"outlined\" placeholder=\"Password\" type=\"password\"/>\n          <TextField value={pseudo} onChange={handlePseudoChange}  variant=\"outlined\" placeholder=\"Pseudo\"/>\n          <TextField value={gender} onChange={handleGenderChange} select variant=\"outlined\" placeholder=\"Gender\">\n            <MenuItem key={\"Female\"} value={\"Female\"} selected>Female</MenuItem>\n            <MenuItem key={\"Male\"} value={\"Male\"}>Male</MenuItem>\n            <MenuItem key={\"Unspecified\"} value={\"Unspecified\"}>Unspecified</MenuItem>\n          </TextField>\n          <TextField value={country} onChange={handleCountryChange} select variant=\"outlined\" placeholder=\"Country\">\n            <MenuItem key={\"Morocco\"} value={\"Morocco\"} selected>Morocco</MenuItem>\n            <MenuItem key={\"USA\"} value={\"USA\"}>USA</MenuItem>\n            <MenuItem key={\"Singapore\"} value={\"Singapore\"}>Singapore</MenuItem>\n          </TextField>\n          <TextField value={firstName} onChange={handleFirstNameChange} variant=\"outlined\" placeholder=\"First Name\"/>\n          <TextField value={lastName} onChange={handleLastNameChange} variant=\"outlined\" placeholder=\"Last Name\"/>\n\n          {error && <Typography color=\"error\">{error}</Typography>}\n\n          <Button variant=\"contained\" size=\"large\" disableElevation onClick={create} disabled={loading}>{loading ? \"Creating...\" : \"Create\"}</Button>\n          <Button variant=\"outlined\" size=\"large\" disableElevation onClick={handleCancel}>Cancel</Button>\n        </Stack>\n      </Stack>\n    </Container>\n  ) \n}"],"names":[],"mappings":"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","debugId":null}}]
}