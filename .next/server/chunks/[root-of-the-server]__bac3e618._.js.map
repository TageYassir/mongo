{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/api/models.js"],"sourcesContent":["import mongoose from \"mongoose\";\n/**\n * Use an environment variable for the URI in production.\n * Fallback to the previous hard-coded URI for local dev if not set.\n */\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017/SocialDB\";\n\n/**\n * Global cache for the connection (useful for serverless / dev hot-reload).\n * We attach to global so multiple module reloads reuse the same connection.\n */\nlet cached = global.mongoose;\n\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nasync function connectToDatabase() {\n  if (cached.conn) {\n    return cached.conn;\n  }\n\n  if (!cached.promise) {\n    // options can be tuned as needed\n    const opts = {\n      useNewUrlParser: true,\n      useUnifiedTopology: true,\n    };\n    cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongooseInstance) => {\n      return mongooseInstance;\n    });\n  }\n\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n\n/**\n * Define schemas and models.\n * Use existing compiled models if present (mongoose.models).\n */\n\nconst locationSchema = new mongoose.Schema({ lat: Number, lng: Number }, { _id: false });\n\nconst userSchema = new mongoose.Schema({\n  firstName: { type: String, required: true },\n  lastName: { type: String, required: true },\n  gender: { type: String, required: true },\n  country: { type: String, required: true },\n  pseudo: { type: String, required: true },\n  email: { type: String, required: true, unique: true },\n  password: { type: String, required: true },\n  isOnline: { type: Boolean, default: false },\n  isValidated: { type: Boolean, default: false },\n  location: { type: locationSchema, default: null },\n  validationCode: { type: String, default: null },\n  recoveryCode: { type: String, default: null },\n}, { timestamps: true });\n\nconst postSchema = new mongoose.Schema({\n  content: { type: String, required: true },\n  dateTime: { type: Date, required: true, default: Date.now },\n  user: { type: mongoose.Schema.Types.ObjectId, ref: \"User\" },\n}, { timestamps: true });\n\n/**\n * Message schema - stores a single direct message between two users.\n * Fields:\n * - senderId: ObjectId (ref User)\n * - receiverId: ObjectId (ref User)\n * - text: String\n * - sentAt: Date\n */\nconst messageSchema = new mongoose.Schema({\n  senderId: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\n  receiverId: { type: mongoose.Schema.Types.ObjectId, ref: \"User\", required: true },\n  text: { type: String, required: true },\n  sentAt: { type: Date, required: true, default: Date.now },\n}, { timestamps: true });\n\n/**\n * Model creation - check existing models to avoid OverwriteModelError\n */\nconst User = mongoose.models.User || mongoose.model(\"User\", userSchema);\nconst Post = mongoose.models.Post || mongoose.model(\"Post\", postSchema);\nconst Message = mongoose.models.Message || mongoose.model(\"Message\", messageSchema);\n\n/**\n * Ensure connection is established when this module is imported.\n * Some environments will re-run module code on each request in dev;\n * connectToDatabase caches the promise to prevent multiple connects.\n */\nconnectToDatabase().catch((err) => {\n  // Log error server-side. In production, handle appropriately.\n  console.error(\"MongoDB connection error:\", err);\n});\n\nexport { User, Post, Message, connectToDatabase };"],"names":[],"mappings":";;;;;;;;;;AAAA;;AACA;;;CAGC,GACD,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE/C;;;CAGC,GACD,IAAI,SAAS,yDAAO,QAAQ;AAE5B,IAAI,CAAC,QAAQ;IACX,SAAS,yDAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE;QACf,OAAO,OAAO,IAAI;IACpB;IAEA,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,iCAAiC;QACjC,MAAM,OAAO;YACX,iBAAiB;YACjB,oBAAoB;QACtB;QACA,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACzD,OAAO;QACT;IACF;IAEA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,OAAO,OAAO,IAAI;AACpB;AAEA;;;CAGC,GAED,MAAM,iBAAiB,IAAI,oHAAQ,CAAC,MAAM,CAAC;IAAE,KAAK;IAAQ,KAAK;AAAO,GAAG;IAAE,KAAK;AAAM;AAEtF,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,WAAW;QAAE,MAAM;QAAQ,UAAU;IAAK;IAC1C,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,QAAQ;QAAE,MAAM;QAAQ,UAAU;IAAK;IACvC,SAAS;QAAE,MAAM;QAAQ,UAAU;IAAK;IACxC,QAAQ;QAAE,MAAM;QAAQ,UAAU;IAAK;IACvC,OAAO;QAAE,MAAM;QAAQ,UAAU;QAAM,QAAQ;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,UAAU;QAAE,MAAM;QAAS,SAAS;IAAM;IAC1C,aAAa;QAAE,MAAM;QAAS,SAAS;IAAM;IAC7C,UAAU;QAAE,MAAM;QAAgB,SAAS;IAAK;IAChD,gBAAgB;QAAE,MAAM;QAAQ,SAAS;IAAK;IAC9C,cAAc;QAAE,MAAM;QAAQ,SAAS;IAAK;AAC9C,GAAG;IAAE,YAAY;AAAK;AAEtB,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,SAAS;QAAE,MAAM;QAAQ,UAAU;IAAK;IACxC,UAAU;QAAE,MAAM;QAAM,UAAU;QAAM,SAAS,KAAK,GAAG;IAAC;IAC1D,MAAM;QAAE,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QAAE,KAAK;IAAO;AAC5D,GAAG;IAAE,YAAY;AAAK;AAEtB;;;;;;;CAOC,GACD,MAAM,gBAAgB,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACxC,UAAU;QAAE,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QAAE,KAAK;QAAQ,UAAU;IAAK;IAC9E,YAAY;QAAE,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QAAE,KAAK;QAAQ,UAAU;IAAK;IAChF,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,QAAQ;QAAE,MAAM;QAAM,UAAU;QAAM,SAAS,KAAK,GAAG;IAAC;AAC1D,GAAG;IAAE,YAAY;AAAK;AAEtB;;CAEC,GACD,MAAM,OAAO,oHAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAC,QAAQ;AAC5D,MAAM,OAAO,oHAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAC,QAAQ;AAC5D,MAAM,UAAU,oHAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,oHAAQ,CAAC,KAAK,CAAC,WAAW;AAErE;;;;CAIC,GACD,oBAAoB,KAAK,CAAC,CAAC;IACzB,8DAA8D;IAC9D,QAAQ,KAAK,CAAC,6BAA6B;AAC7C","debugId":null}},
    {"offset": {"line": 321, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/api/users/route.js"],"sourcesContent":["/**\r\n * API Route: /api/users (Next.js App Router style)\r\n *\r\n * This file implements:\r\n * - CORS preflight handling (OPTIONS)\r\n * - GET operations: check-pseudo, get-all-users, online\r\n * - POST operations: create (with email verification code), login, logout,\r\n *   verify-code, recover (send recovery code), reset-password, update (stub)\r\n *\r\n * Notes:\r\n * - Uses nodemailer to send verification / recovery emails.\r\n * - Credentials are read from environment variables:\r\n *     SMTP_USER, SMTP_PASS, SMTP_FROM (optional)\r\n *   If not provided, an inline fallback (previously used) is used, but you\r\n *   should set env vars in production.\r\n * - Passwords are currently handled as plaintext (preserving prior behaviour).\r\n *   It's strongly recommended to hash passwords with bcrypt in a real app.\r\n */\r\n\r\nimport { NextResponse } from \"next/server\"\r\nimport nodemailer from \"nodemailer\"\r\nimport { User } from \"../models.js\"\r\n\r\nconst CORS_HEADERS = {\r\n  \"Access-Control-Allow-Origin\": \"*\",\r\n  \"Access-Control-Allow-Methods\": \"GET, POST, OPTIONS\",\r\n  \"Access-Control-Allow-Headers\": \"Content-Type, Authorization\",\r\n}\r\n\r\n/** Handle preflight */\r\nexport function OPTIONS() {\r\n  return new NextResponse(null, { status: 204, headers: CORS_HEADERS })\r\n}\r\n\r\n/** Generation du code de verification d'email */\r\nfunction generateCode() {\r\n  return Math.floor(100000 + Math.random() * 900000).toString()\r\n}\r\n\r\n/** Create nodemailer transporter (reads from env when possible) */\r\nfunction createTransporter() {\r\n  const user = process.env.SMTP_USER || \"Fftt7252@gmail.com\"\r\n  const pass = process.env.SMTP_PASS || \"soae wjwy yvdz iwwc\" // Replace with env var in prod\r\n  const transporter = nodemailer.createTransport({\r\n    service: \"gmail\",\r\n    auth: { user, pass },\r\n  })\r\n  return transporter\r\n}\r\n\r\n/** Send verification email */\r\nasync function sendVerificationEmail(to, pseudo, code) {\r\n  const from = process.env.SMTP_FROM || '\"Chocolat Social\" <Fftt7252@gmail.com>'\r\n  const transporter = createTransporter()\r\n  const html = `\r\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 10px; background-color: #f9f9f9;\">\r\n      <h2 style=\"color: #333;\">Welcome to Chocolat Social!</h2>\r\n      <p>Hi <strong>${pseudo || \"there\"}</strong>,</p>\r\n      <p>Thank you for registering. Please use the verification code below to activate your account:</p>\r\n      <div style=\"margin: 20px 0; text-align: center;\">\r\n        <span style=\"font-size: 24px; font-weight: bold; color: #4caf50; padding: 10px 20px; border: 2px dashed #4caf50; border-radius: 8px;\">\r\n          ${code}\r\n        </span>\r\n      </div>\r\n      <p>If you did not register on Chocolat Social, please ignore this email.</p>\r\n      <p style=\"font-size: 12px; color: #777;\">Â© 2025 Chocolat Social. All rights reserved.</p>\r\n    </div>\r\n  `\r\n  return transporter.sendMail({\r\n    from,\r\n    to,\r\n    subject: \"ðŸ”’ Verify Your Email for Chocolat Social\",\r\n    html,\r\n  })\r\n}\r\n\r\n/** Send recovery email */\r\nasync function sendRecoveryEmail(to, code) {\r\n  const from = process.env.SMTP_FROM || '\"Chocolat Social\" <Fftt7252@gmail.com>'\r\n  const transporter = createTransporter()\r\n  const html = `\r\n    <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: auto; padding: 20px; border: 1px solid #e0e0e0; border-radius: 10px; background-color: #f9f9f9;\">\r\n      <h2>Password Recovery</h2>\r\n      <p>Your recovery code is:</p>\r\n      <div style=\"text-align: center; margin: 20px;\">\r\n        <span style=\"font-size: 24px; font-weight: bold; color: #f44336;\">${code}</span>\r\n      </div>\r\n      <p>If you did not request a password reset, ignore this email.</p>\r\n    </div>\r\n  `\r\n  return transporter.sendMail({\r\n    from,\r\n    to,\r\n    subject: \"Chocolat Social - Password Recovery Code\",\r\n    html,\r\n  })\r\n}\r\n\r\n/** GET Method - support read-only operations from browser (e.g. get-all-users, online) */\r\nexport async function GET(request) {\r\n  try {\r\n    const operation = request.nextUrl.searchParams.get(\"operation\")\r\n    const q = request.nextUrl.searchParams.get(\"q\") || \"\"\r\n\r\n    // New: check if a pseudo is available\r\n    if (operation === \"check-pseudo\") {\r\n      const pseudo = (request.nextUrl.searchParams.get(\"pseudo\") || \"\").trim()\r\n      if (!pseudo) {\r\n        return NextResponse.json({ error: \"Missing pseudo\" }, { status: 400, headers: CORS_HEADERS })\r\n      }\r\n      const found = await User.findOne({ pseudo }).lean()\r\n      return NextResponse.json({ available: !Boolean(found) }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    if (operation === \"get-all-users\") {\r\n      if (q && q.trim() !== \"\") {\r\n        const escaped = q.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\")\r\n        const re = new RegExp(escaped, \"i\")\r\n        const users = await User.find({\r\n          $or: [\r\n            { pseudo: re },\r\n            { firstName: re },\r\n            { lastName: re },\r\n            { email: re },\r\n          ],\r\n        }).limit(50).lean()\r\n        users.forEach((u) => { if (u.password) delete u.password })\r\n        return NextResponse.json({ users }, { status: 200, headers: CORS_HEADERS })\r\n      }\r\n      const users = await User.find().lean()\r\n      users.forEach((u) => { if (u.password) delete u.password })\r\n      return NextResponse.json({ users }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    if (operation === \"online\") {\r\n      const onlineUsers = await User.find({ isOnline: true }).lean()\r\n      onlineUsers.forEach((u) => { if (u.password) delete u.password })\r\n      return NextResponse.json({ users: onlineUsers }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    return NextResponse.json({ error: \"Unknown or unsupported GET operation\" }, { status: 400, headers: CORS_HEADERS })\r\n  } catch (error) {\r\n    return NextResponse.json({ error: error.message || String(error) }, { status: 500, headers: CORS_HEADERS })\r\n  }\r\n}\r\n\r\n/** POST Method - create, login, update, recover, logout, verify-code, reset-password */\r\nexport async function POST(request) {\r\n  try {\r\n    const operation = request.nextUrl.searchParams.get(\"operation\")\r\n\r\n    if (operation === \"create\") {\r\n      const data = await request.json()\r\n      if (!data || !data.email || !data.password) {\r\n        return NextResponse.json(\r\n          { error: \"Missing required fields (email and password).\" },\r\n          { status: 400, headers: CORS_HEADERS }\r\n        )\r\n      }\r\n\r\n      // Normalize email and pseudo for comparison\r\n      const emailNorm = String(data.email).trim().toLowerCase()\r\n      const pseudoNorm = data.pseudo ? String(data.pseudo).trim() : \"\"\r\n\r\n      // Check for existing user by email OR pseudo\r\n      const existing = await User.findOne({ $or: [{ email: emailNorm }, ...(pseudoNorm ? [{ pseudo: pseudoNorm }] : [])] }).lean()\r\n      if (existing) {\r\n        if (existing.email && existing.email.toLowerCase() === emailNorm) {\r\n          return NextResponse.json({ error: \"A user with this email already exists.\" }, { status: 409, headers: CORS_HEADERS })\r\n        }\r\n        if (pseudoNorm && existing.pseudo === pseudoNorm) {\r\n          return NextResponse.json({ error: \"Pseudo already taken.\" }, { status: 409, headers: CORS_HEADERS })\r\n        }\r\n        return NextResponse.json({ error: \"User already exists.\" }, { status: 409, headers: CORS_HEADERS })\r\n      }\r\n\r\n      // GÃ©nÃ©rer code de validation\r\n      const code = generateCode()\r\n      const toCreate = {\r\n        ...data,\r\n        email: emailNorm,\r\n        validationCode: code,\r\n        isValidated: false,\r\n      }\r\n\r\n      const created = await User.create(toCreate)\r\n      const out = created && created.toObject ? created.toObject() : created\r\n      if (out && out.password) delete out.password\r\n\r\n      // Try to send verification email. If it fails, still create the user but return a warning.\r\n      try {\r\n        await sendVerificationEmail(created.email, created.pseudo || \"\", code)\r\n      } catch (mailErr) {\r\n        // Log error server-side (console here); in real app attach to logging system\r\n        console.error(\"Failed to send verification email:\", mailErr)\r\n        return NextResponse.json(\r\n          { user: out, warning: \"User created but failed to send verification email.\" },\r\n          { status: 201, headers: CORS_HEADERS }\r\n        )\r\n      }\r\n\r\n      return NextResponse.json({ user: out, message: \"User created and verification email sent.\" }, { status: 201, headers: CORS_HEADERS })\r\n    }\r\n\r\n    if (operation === \"login\") {\r\n      const data = await request.json()\r\n      if (!data || !data.email || !data.password) {\r\n        return NextResponse.json({ error: \"Missing email or password\" }, { status: 400, headers: CORS_HEADERS })\r\n      }\r\n      const user = await User.findOne({ email: data.email, password: data.password }).lean()\r\n      if (!user) {\r\n        return NextResponse.json({ error: \"Invalid credentials\" }, { status: 401, headers: CORS_HEADERS })\r\n      }\r\n      if (user.password) delete user.password\r\n      return NextResponse.json({ user }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    if (operation === \"logout\") {\r\n      const data = await request.json().catch(() => null)\r\n      const id = data?.id\r\n      if (!id) {\r\n        return NextResponse.json({ error: \"Missing user id\" }, { status: 400, headers: CORS_HEADERS })\r\n      }\r\n      const updated = await User.findByIdAndUpdate(id, { isOnline: false }, { new: true, runValidators: true, context: 'query' }).lean()\r\n      if (!updated) {\r\n        return NextResponse.json({ error: \"User not found\" }, { status: 404, headers: CORS_HEADERS })\r\n      }\r\n      if (updated.password) delete updated.password\r\n      return NextResponse.json({ user: updated }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    if (operation === \"verify-code\") {\r\n      const data = await request.json()\r\n      if (!data || !data.email || !data.code) {\r\n        return NextResponse.json({ error: \"Missing email or code\" }, { status: 400, headers: CORS_HEADERS })\r\n      }\r\n      const emailNorm = String(data.email).trim().toLowerCase()\r\n      const user = await User.findOne({ email: emailNorm, validationCode: data.code })\r\n      if (!user) {\r\n        return NextResponse.json({ error: \"Invalid code or email\" }, { status: 400, headers: CORS_HEADERS })\r\n      }\r\n      user.isValidated = true\r\n      user.validationCode = null\r\n      await user.save()\r\n      return NextResponse.json({ message: \"Email verified successfully\" }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    if (operation === \"recover\") {\r\n      const data = await request.json()\r\n      if (!data || !data.email) {\r\n        return NextResponse.json({ error: \"Missing email\" }, { status: 400, headers: CORS_HEADERS })\r\n      }\r\n      const emailNorm = String(data.email).trim().toLowerCase()\r\n      const user = await User.findOne({ email: emailNorm })\r\n      if (!user) {\r\n        return NextResponse.json({ error: \"Email not found\" }, { status: 404, headers: CORS_HEADERS })\r\n      }\r\n      const code = generateCode()\r\n      user.recoveryCode = code\r\n      await user.save()\r\n      try {\r\n        await sendRecoveryEmail(user.email, code)\r\n      } catch (mailErr) {\r\n        console.error(\"Failed to send recovery email:\", mailErr)\r\n        return NextResponse.json({ warning: \"Recovery code generated but failed to send email.\" }, { status: 200, headers: CORS_HEADERS })\r\n      }\r\n      return NextResponse.json({ message: \"Recovery code sent to your email\" }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    if (operation === \"reset-password\") {\r\n      const data = await request.json()\r\n      const { email, code, newPassword } = data || {}\r\n      if (!email || !code || !newPassword) {\r\n        return NextResponse.json({ error: \"Missing email, code, or newPassword\" }, { status: 400, headers: CORS_HEADERS })\r\n      }\r\n      const emailNorm = String(email).trim().toLowerCase()\r\n      const user = await User.findOne({ email: emailNorm, recoveryCode: code })\r\n      if (!user) {\r\n        return NextResponse.json({ error: \"Invalid code or email\" }, { status: 400, headers: CORS_HEADERS })\r\n      }\r\n      user.password = newPassword\r\n      user.recoveryCode = null\r\n      await user.save()\r\n      return NextResponse.json({ message: \"Password reset successfully\" }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    if (operation === \"update\") {\r\n      // Implement update logic if desired. Returning stub for now.\r\n      return NextResponse.json({ result: null }, { status: 200, headers: CORS_HEADERS })\r\n    }\r\n\r\n    // Unrecognized operation for POST\r\n    return NextResponse.json({ error: \"Unknown operation\" }, { status: 400, headers: CORS_HEADERS })\r\n  } catch (error) {\r\n    return NextResponse.json({ error: error.message || String(error) }, { status: 500, headers: CORS_HEADERS })\r\n  }\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}