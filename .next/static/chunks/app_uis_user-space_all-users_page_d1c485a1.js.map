{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/uis/user-space/all-users/page.js"],"sourcesContent":["'use client'\r\n\r\nimport React, { useEffect, useState, useRef } from \"react\"\r\nimport { Box, List, ListItem, ListItemAvatar, Avatar, ListItemText, Typography, Paper, CircularProgress, Container, Badge, TextField, IconButton, InputAdornment, Button, Stack } from \"@mui/material\"\r\nimport { colors } from \"@mui/material\"\r\nimport SearchIcon from \"@mui/icons-material/Search\"\r\nimport ClearIcon from \"@mui/icons-material/Clear\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\n/**\r\n * All Users page — Contact now navigates to the user's profile in the user-space\r\n * Enhancement: Added a \"Friends\" section at the top so you can directly Message friends.\r\n *\r\n * Notes about currentUserId:\r\n * - We try to detect the current user id from localStorage (common key names used in simple apps: 'user' JSON or 'currentUserId').\r\n * - If no current user id is found we hide the Friends section and default to the original Contact behavior.\r\n */\r\n\r\nexport default function AllUsersPage() {\r\n  const [users, setUsers] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n  const [query, setQuery] = useState(\"\")\r\n  const debounceRef = useRef(null)\r\n  const router = useRouter()\r\n\r\n  // friends state\r\n  const [friends, setFriends] = useState([])\r\n  const [loadingFriends, setLoadingFriends] = useState(false)\r\n  const [friendIds, setFriendIds] = useState(new Set())\r\n\r\n  // Try to obtain current user id from localStorage (common patterns)\r\n  const getCurrentUserId = () => {\r\n    try {\r\n      if (typeof window === 'undefined') return null\r\n      // common: a full user object stored under 'user' or 'currentUser'\r\n      const userRaw = window.localStorage.getItem('user') || window.localStorage.getItem('currentUser')\r\n      if (userRaw) {\r\n        try {\r\n          const u = JSON.parse(userRaw)\r\n          if (u && (u._id || u.id)) return u._id || u.id\r\n        } catch (e) {\r\n          // not JSON - maybe it's the id string\r\n        }\r\n      }\r\n      // direct id keys\r\n      const idDirect = window.localStorage.getItem('currentUserId') || window.localStorage.getItem('userId')\r\n      if (idDirect) return idDirect\r\n      return null\r\n    } catch (e) {\r\n      return null\r\n    }\r\n  }\r\n\r\n  const currentUserId = getCurrentUserId()\r\n\r\n  async function fetchUsers(q = \"\") {\r\n    setLoading(true)\r\n    setError(null)\r\n    try {\r\n      const url = `/api/users?operation=get-all-users${q ? `&q=${encodeURIComponent(q)}` : \"\"}`\r\n      const res = await fetch(url, { headers: { \"Content-Type\": \"application/json\" } })\r\n      const payload = await res.json()\r\n      if (!res.ok) {\r\n        setError(payload?.error || `Server returned ${res.status}`)\r\n        setUsers([])\r\n      } else {\r\n        const list = Array.isArray(payload.users) ? payload.users : []\r\n        setUsers(list)\r\n      }\r\n    } catch (err) {\r\n      setError(err.message || \"Failed to load users\")\r\n      setUsers([])\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  async function fetchFriendsForCurrentUser() {\r\n    if (!currentUserId) {\r\n      setFriends([])\r\n      setFriendIds(new Set())\r\n      return\r\n    }\r\n    setLoadingFriends(true)\r\n    try {\r\n      const url = `/api/friends?operation=get-friends&userId=${encodeURIComponent(currentUserId)}`\r\n      const res = await fetch(url, { headers: { \"Content-Type\": \"application/json\" } })\r\n      const payload = await res.json().catch(() => null)\r\n      if (!res.ok) {\r\n        console.warn('Failed to fetch friends:', payload?.error || res.status)\r\n        setFriends([])\r\n        setFriendIds(new Set())\r\n      } else {\r\n        const list = Array.isArray(payload.friends) ? payload.friends : []\r\n        setFriends(list)\r\n        const ids = new Set(list.map(u => u._id || u.id).filter(Boolean))\r\n        setFriendIds(ids)\r\n      }\r\n    } catch (e) {\r\n      console.warn('Failed to fetch friends', e)\r\n      setFriends([])\r\n      setFriendIds(new Set())\r\n    } finally {\r\n      setLoadingFriends(false)\r\n    }\r\n  }\r\n\r\n  // initial load\r\n  useEffect(() => {\r\n    fetchUsers(\"\")\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  // fetch friends when component mounts (and when currentUserId changes)\r\n  useEffect(() => {\r\n    fetchFriendsForCurrentUser()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentUserId])\r\n\r\n  useEffect(() => {\r\n    if (debounceRef.current) clearTimeout(debounceRef.current)\r\n    debounceRef.current = setTimeout(() => {\r\n      fetchUsers(query.trim())\r\n    }, 350)\r\n    return () => { if (debounceRef.current) clearTimeout(debounceRef.current) }\r\n  }, [query])\r\n\r\n  const handleClear = () => setQuery(\"\")\r\n  const handleSubmit = (e) => { e.preventDefault(); if (debounceRef.current) clearTimeout(debounceRef.current); fetchUsers(query.trim()) }\r\n\r\n  // Navigate to direct chat path (dynamic route)\r\n  const navigateToChatWith = (id) => {\r\n    if (!id) return\r\n    router.push(`/uis/user-space/chat/${encodeURIComponent(id)}`)\r\n  }\r\n\r\n  // Navigate to the user's profile inside the user-space\r\n  const navigateToUserProfile = (id) => {\r\n    if (!id) return\r\n    router.push(`/uis/user-space/profile/${encodeURIComponent(id)}`)\r\n  }\r\n\r\n  // Navigate specifically to the \"friend\" profile page (folder: [id]/friend/page.js)\r\n  const navigateToFriendProfile = (id) => {\r\n    if (!id) return\r\n    router.push(`/uis/user-space/profile/${encodeURIComponent(id)}/friend`)\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ py: 3, px: { xs: 2, sm: 3 } }}>\r\n      {/* Header: stacked on phones, centered title, user count */}\r\n      <Box sx={{ display: 'flex', flexDirection: { xs: 'column', sm: 'row' }, justifyContent: 'space-between', alignItems: { xs: 'flex-start', sm: 'center' }, gap: 1, mb: 2 }}>\r\n        <Typography variant=\"h5\" sx={{ textAlign: { xs: 'center', sm: 'left' }, width: '100%' }}>\r\n          All Users\r\n        </Typography>\r\n\r\n        <Box sx={{ display: 'flex', gap: 1, alignItems: 'center', width: { xs: '100%', sm: 'auto' }, justifyContent: { xs: 'center', sm: 'flex-end' } }}>\r\n          <Typography variant=\"body2\" color=\"text.secondary\" sx={{ fontSize: 13 }}>\r\n            {users.length} {users.length === 1 ? 'user' : 'users'}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* Friends section: only visible when we can detect a current user */}\r\n      {currentUserId && (\r\n        <Box sx={{ mb: 2 }}>\r\n          <Typography variant=\"subtitle1\" sx={{ mb: 1, fontWeight: 600 }}>Friends</Typography>\r\n          <Paper elevation={1} sx={{ p: 1, mb: 1 }}>\r\n            {loadingFriends ? (\r\n              <Box sx={{ display: 'flex', justifyContent: 'center', py: 2 }}>\r\n                <CircularProgress size={20} />\r\n              </Box>\r\n            ) : friends.length === 0 ? (\r\n              <Box sx={{ p: 1 }}>\r\n                <Typography variant=\"body2\">No friends to show.</Typography>\r\n              </Box>\r\n            ) : (\r\n              <Stack\r\n                direction={{ xs: 'column', sm: 'row' }}\r\n                spacing={1}\r\n                sx={{ overflowX: { xs: 'visible', sm: 'auto' }, py: 1 }}\r\n              >\r\n                {friends.map((f) => {\r\n                  const id = f._id || f.id || null\r\n                  const displayName = f.pseudo || [f.firstName, f.lastName].filter(Boolean).join(\" \") || \"Unknown\"\r\n                  const initial = (displayName.charAt(0) || \"?\").toUpperCase()\r\n                  const bg = (f.gender === \"Male\" ? colors.blue[800] : colors.red[600])\r\n                  return (\r\n                    <Paper\r\n                      key={id || Math.random()}\r\n                      sx={{\r\n                        minWidth: { xs: '100%', sm: 160 },\r\n                        p: 1,\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        gap: 1,\r\n                        borderRadius: 2\r\n                      }}\r\n                    >\r\n                      <Avatar sx={{ bgcolor: bg, width: { xs: 36, sm: 40 }, height: { xs: 36, sm: 40 } }}>{initial}</Avatar>\r\n                      <Box sx={{ flex: 1 }}>\r\n                        <Typography sx={{ fontSize: 13, fontWeight: 600 }}>{displayName}</Typography>\r\n                        {/* Message + Visit Profil for friends */}\r\n                        <Box sx={{ display: 'flex', gap: 1, mt: 1, flexDirection: { xs: 'column', sm: 'row' } }}>\r\n                          <Button\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            onClick={(e) => { e.stopPropagation(); navigateToChatWith(id) }}\r\n                            sx={{ width: { xs: '100%', sm: 'auto' } }}\r\n                          >\r\n                            Message\r\n                          </Button>\r\n                          <Button\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            onClick={(e) => { e.stopPropagation(); navigateToFriendProfile(id) }}\r\n                            aria-label={`Visit profile of ${displayName}`}\r\n                            sx={{ width: { xs: '100%', sm: 'auto' } }}\r\n                          >\r\n                            Visit Profil\r\n                          </Button>\r\n                        </Box>\r\n                      </Box>\r\n                    </Paper>\r\n                  )\r\n                })}\r\n              </Stack>\r\n            )}\r\n          </Paper>\r\n        </Box>\r\n      )}\r\n\r\n      <Box component=\"form\" onSubmit={handleSubmit} sx={{ mb: 2 }}>\r\n        <TextField\r\n          fullWidth\r\n          placeholder=\"Search by name or pseudo...\"\r\n          value={query}\r\n          onChange={(e) => setQuery(e.target.value)}\r\n          variant=\"outlined\"\r\n          inputProps={{ 'aria-label': 'Search users' }}\r\n          InputProps={{\r\n            endAdornment: (\r\n              <InputAdornment position=\"end\">\r\n                {query ? (\r\n                  <IconButton size=\"small\" onClick={() => setQuery(\"\")} aria-label=\"Clear search\"><ClearIcon /></IconButton>\r\n                ) : (\r\n                  <SearchIcon aria-hidden=\"true\" />\r\n                )}\r\n              </InputAdornment>\r\n            )\r\n          }}\r\n          sx={{ '& .MuiInputBase-input': { padding: { xs: '10px 12px', sm: undefined } } }}\r\n        />\r\n      </Box>\r\n\r\n      {/* Main content: no fixed height, no internal scroll — page will flow naturally */}\r\n      <Paper elevation={2} sx={{ p: 1 }}>\r\n        {loading && (\r\n          <Box sx={{ display: \"flex\", justifyContent: \"center\", py: 4 }}>\r\n            <CircularProgress />\r\n          </Box>\r\n        )}\r\n\r\n        {error && (\r\n          <Box sx={{ p: 2 }}>\r\n            <Typography color=\"error\">{error}</Typography>\r\n          </Box>\r\n        )}\r\n\r\n        {!loading && !error && users.length === 0 && (\r\n          <Box sx={{ p: 2 }}>\r\n            <Typography>No users found.</Typography>\r\n          </Box>\r\n        )}\r\n\r\n        {!loading && !error && users.length > 0 && (\r\n          // stacked cards (mobile-first): each card grows the page instead of creating an inner scrollbar\r\n          <Stack spacing={2} sx={{ mt: 1 }}>\r\n            {users.map((u) => {\r\n              const id = u._id || u.id || null\r\n              const displayName = u.pseudo || [u.firstName, u.lastName].filter(Boolean).join(\" \") || \"Unknown\"\r\n              const initial = (displayName.charAt(0) || \"?\").toUpperCase()\r\n              const bg = (u.gender === \"Male\" ? colors.blue[800] : colors.red[600])\r\n              const subtitleParts = []\r\n              if (u.country) subtitleParts.push(u.country)\r\n              const subtitle = subtitleParts.join(\" • \")\r\n\r\n              const handleOpenConversation = () => navigateToChatWith(id)\r\n              const handleContactClick = (e) => { e.stopPropagation(); navigateToUserProfile(id) }\r\n              const isFriend = id && friendIds.has(id)\r\n\r\n              return (\r\n                <Paper\r\n                  key={id || `${u.pseudo || u.firstName || 'user'}-${Math.random()}`}\r\n                  sx={{\r\n                    p: 2,\r\n                    borderRadius: 2,\r\n                    display: 'flex',\r\n                    gap: 2,\r\n                    alignItems: 'center',\r\n                    flexDirection: { xs: 'column', sm: 'row' }\r\n                  }}\r\n                  role={id ? \"button\" : undefined}\r\n                  tabIndex={id ? 0 : -1}\r\n                  onClick={id ? handleOpenConversation : undefined}\r\n                  onKeyDown={(e) => { if (e.key === \"Enter\" && id) handleOpenConversation() }}\r\n                >\r\n                  <Avatar sx={{ bgcolor: bg, width: { xs: 56, sm: 48 }, height: { xs: 56, sm: 48 } }}>{initial}</Avatar>\r\n\r\n                  <Box sx={{ flex: 1, width: '100%' }}>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', gap: 1, flexDirection: { xs: 'column', sm: 'row' } }}>\r\n                      <Box sx={{ textAlign: { xs: 'center', sm: 'left' }, width: '100%' }}>\r\n                        <Typography variant=\"subtitle1\" sx={{ fontWeight: 600 }}>\r\n                          {displayName}\r\n                        </Typography>\r\n                        {subtitle && <Typography variant=\"body2\" color=\"text.secondary\">{subtitle}</Typography>}\r\n                      </Box>\r\n\r\n                      {/* On small screens make actions full-width stacked; on larger screens keep them inline */}\r\n                      <Box sx={{ display: 'flex', gap: 1, mt: { xs: 1, sm: 0 }, width: { xs: '100%', sm: 'auto' }, justifyContent: { xs: 'center', sm: 'flex-end' }, flexDirection: { xs: 'column', sm: 'row' } }}>\r\n                        {isFriend ? (\r\n                          <>\r\n                            <Button\r\n                              variant=\"contained\"\r\n                              onClick={(e) => { e.stopPropagation(); navigateToChatWith(id) }}\r\n                              disabled={!id}\r\n                              sx={{ width: { xs: '100%', sm: 'auto' } }}\r\n                            >\r\n                              Message\r\n                            </Button>\r\n                            <Button\r\n                              variant=\"outlined\"\r\n                              onClick={(e) => { e.stopPropagation(); navigateToFriendProfile(id) }}\r\n                              disabled={!id}\r\n                              aria-label={`Visit profile of ${displayName}`}\r\n                              sx={{ width: { xs: '100%', sm: 'auto' } }}\r\n                            >\r\n                              Visit Profil\r\n                            </Button>\r\n                          </>\r\n                        ) : (\r\n                          <Button\r\n                            variant=\"outlined\"\r\n                            onClick={(e) => { e.stopPropagation(); handleContactClick(e) }}\r\n                            disabled={!id}\r\n                            sx={{ width: { xs: '100%', sm: 'auto' } }}\r\n                          >\r\n                            Contact\r\n                          </Button>\r\n                        )}\r\n                      </Box>\r\n                    </Box>\r\n                  </Box>\r\n                </Paper>\r\n              )\r\n            })}\r\n          </Stack>\r\n        )}\r\n      </Paper>\r\n    </Container>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}