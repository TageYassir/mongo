{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Saas_MongoDB/mongo/app/dash/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\"\r\nimport { Money } from \"@mui/icons-material\";\r\nimport {\r\n  Avatar,\r\n  colors,\r\n  Grid,\r\n  Paper,\r\n  Stack,\r\n  Typography,\r\n  Box,\r\n  TextField,\r\n  MenuItem,\r\n  Button,\r\n  CircularProgress,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  IconButton,\r\n} from \"@mui/material\";\r\nimport CloseIcon from \"@mui/icons-material/Close\";\r\n\r\nimport { PieChart } from \"@mui/x-charts\";\r\nimport { BarChart } from \"@mui/x-charts/BarChart\";\r\n\r\n/* \r\n  Enhanced dashboard:\r\n  - Shows totals: accounts, online, offline, created last 7 days\r\n  - Interactive chart area: choose chart type (pie/bar) and column to group by\r\n  - Aggregates users client-side and renders charts\r\n*/\r\n\r\nexport default function Page() {\r\n  const [users, setUsers] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [error, setError] = useState(null)\r\n\r\n  // Online users dialog state\r\n  const [openOnlineList, setOpenOnlineList] = useState(false)\r\n  const handleOpenOnline = () => setOpenOnlineList(true)\r\n  const handleCloseOnline = () => setOpenOnlineList(false)\r\n\r\n  // Helper to inform server the current user is online (best-effort)\r\n  async function markUserOnline(userId) {\r\n    if (!userId) return false\r\n    const url = \"/api/users?operation=set-online\"\r\n    const body = JSON.stringify({ id: userId, isOnline: true })\r\n    try {\r\n      if (typeof navigator !== \"undefined\" && navigator.sendBeacon) {\r\n        const blob = new Blob([body], { type: \"application/json\" })\r\n        if (navigator.sendBeacon(url, blob)) return true\r\n      }\r\n      const res = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body,\r\n      })\r\n      return res.ok\r\n    } catch (e) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  // chart controls\r\n  const [chartType, setChartType] = useState(\"pie\") // pie | bar\r\n  const [groupBy, setGroupBy] = useState(\"country\") // which user field to group by\r\n  const [refreshKey, setRefreshKey] = useState(0)\r\n\r\n  useEffect(() => {\r\n    async function loadUsers() {\r\n      setLoading(true)\r\n      setError(null)\r\n      try {\r\n        const res = await fetch(\"/api/users?operation=get-all-users\")\r\n        const payload = await res.json().catch(() => null)\r\n        if (!res.ok) {\r\n          setError(payload?.error || `Server returned ${res.status}`)\r\n          setUsers([])\r\n        } else {\r\n          // Normalize users: add computed isOnlineComputed so UI doesn't flip purely based on server isOnline field.\r\n          const raw = Array.isArray(payload?.users) ? payload.users : []\r\n          const now = Date.now()\r\n          const normalized = raw.map((u) => {\r\n            const last = u?.lastActive || u?.lastSeen || u?.updatedAt || u?.lastLogin\r\n            const recentlyActive = last ? (now - new Date(last).getTime() < 5 * 60 * 1000) : false\r\n            const explicitOn = u?.online === true || u?.isOnline === true\r\n            const explicitOff = u?.online === false || u?.isOnline === false\r\n            // If server explicitly marks user offline, respect that. Otherwise use explicit true or recent activity.\r\n            const isOnlineComputed = explicitOff ? false : (explicitOn || recentlyActive)\r\n            return { ...u, isOnlineComputed }\r\n          })\r\n          setUsers(normalized)\r\n          // Best-effort: tell server current local user we're online (so server-side flag has better chance to stay true)\r\n          try {\r\n            const rawStored = typeof localStorage !== \"undefined\" ? localStorage.getItem(\"user\") : null\r\n            if (rawStored) {\r\n              const stored = JSON.parse(rawStored)\r\n              const uid = stored?.id || stored?._id || stored?.userId\r\n              if (uid) {\r\n                // fire-and-forget\r\n                markUserOnline(uid)\r\n              }\r\n            }\r\n          } catch (e) {\r\n            // ignore storage errors\r\n          }\r\n        }\r\n      } catch (e) {\r\n        setError(e?.message || \"Failed to load users\")\r\n        setUsers([])\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    loadUsers()\r\n  }, [refreshKey])\r\n\r\n  // heuristics for online: explicit boolean or lastActive within 5 minutes\r\n  const onlineCount = useMemo(() => {\r\n    if (!Array.isArray(users)) return 0\r\n    return users.reduce((acc, u) => {\r\n      // If normalization produced an explicit computed flag, use it strictly.\r\n      if (typeof u?.isOnlineComputed !== \"undefined\") {\r\n        return acc + (u.isOnlineComputed ? 1 : 0)\r\n      }\r\n      // Fallback heuristics if no computed flag present\r\n      const now = Date.now()\r\n      const on = u?.online === true || u?.isOnline === true\r\n      const last = u?.lastActive || u?.lastSeen || u?.updatedAt || u?.lastLogin\r\n      const recentlyActive = last ? (now - new Date(last).getTime() < 5 * 60 * 1000) : false\r\n      return acc + (on || recentlyActive ? 1 : 0)\r\n    }, 0)\r\n  }, [users])\r\n\r\n  const totalCount = users?.length || 0\r\n  const offlineCount = Math.max(0, totalCount - onlineCount)\r\n\r\n  // created last 7 days\r\n  const createdLast7Days = useMemo(() => {\r\n    if (!Array.isArray(users)) return 0\r\n    const now = Date.now()\r\n    return users.reduce((acc, u) => {\r\n      const created = u?.createdAt || u?.created || u?.created_on || u?.created_at\r\n      if (!created) return acc\r\n      const diff = now - new Date(created).getTime()\r\n      return diff <= 7 * 24 * 60 * 60 * 1000 ? acc + 1 : acc\r\n    }, 0)\r\n  }, [users])\r\n\r\n  // available grouping fields (restricted to only country and gender)\r\n  const fieldOptions = [\"country\", \"gender\"]\r\n\r\n  // aggregated data by selected groupBy field (counts)\r\n  const aggregated = useMemo(() => {\r\n    const map = new Map()\r\n    if (!Array.isArray(users)) return []\r\n    users.forEach((u) => {\r\n      // only handle country and gender grouping\r\n      let key = \"\"\r\n      if (groupBy === \"country\") key = u.country || \"Unknown\"\r\n      else if (groupBy === \"gender\") key = u.gender || \"Unknown\"\r\n      else key = \"Unknown\"\r\n      key = String(key)\r\n      map.set(key, (map.get(key) || 0) + 1)\r\n    })\r\n    const arr = Array.from(map.entries()).map(([key, count]) => ({ key, count }))\r\n    // sort by count desc\r\n    arr.sort((a, b) => b.count - a.count)\r\n    return arr\r\n  }, [users, groupBy])\r\n\r\n  // chart data builders\r\n  const pieSeries = useMemo(() => {\r\n    return [\r\n      {\r\n        data: aggregated.map((d, idx) => ({ id: idx, value: d.count, label: d.key })),\r\n      },\r\n    ]\r\n  }, [aggregated])\r\n\r\n  const barXAxis = useMemo(() => [{ data: aggregated.map((d) => d.key) }], [aggregated])\r\n  const barSeries = useMemo(() => aggregated.length ? [{ data: aggregated.map((d) => d.count) }] : [{ data: [] }], [aggregated])\r\n\r\n  // derive online users list (respect explicit false from server via isOnlineComputed)\r\n  const onlineUsers = useMemo(() => {\r\n    if (!Array.isArray(users)) return []\r\n    return users.filter((u) => {\r\n      if (typeof u?.isOnlineComputed !== \"undefined\") return u.isOnlineComputed === true\r\n      // fallback: keep previous heuristics\r\n      const now = Date.now()\r\n      const on = u?.online === true || u?.isOnline === true\r\n      const last = u?.lastActive || u?.lastSeen || u?.updatedAt || u?.lastLogin\r\n      const recentlyActive = last ? now - new Date(last).getTime() < 5 * 60 * 1000 : false\r\n      return on || recentlyActive\r\n    })\r\n  }, [users])\r\n\r\n  return (\r\n    <Grid container spacing={2} sx={{ padding: 2 }}>\r\n      {/* Stats row */}\r\n      <Grid item xs={12}>\r\n        <Stack direction=\"row\" spacing={2} alignItems=\"center\">\r\n          <Paper sx={{ p: 2, minWidth: 160 }}>\r\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">Total Accounts</Typography>\r\n            <Typography variant=\"h5\" sx={{ fontWeight: 700 }}>{totalCount}</Typography>\r\n          </Paper>\r\n\r\n          {/* clickable Online card */}\r\n          <Paper\r\n            sx={{ p: 2, minWidth: 160, cursor: \"pointer\", \"&:hover\": { boxShadow: 3 } }}\r\n            onClick={handleOpenOnline}\r\n            role=\"button\"\r\n            aria-label=\"Show online users\"\r\n          >\r\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">Online</Typography>\r\n            <Typography variant=\"h5\" sx={{ color: colors.green[700], fontWeight: 700 }}>{onlineCount}</Typography>\r\n          </Paper>\r\n\r\n          <Paper sx={{ p: 2, minWidth: 160 }}>\r\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">Offline</Typography>\r\n            <Typography variant=\"h5\" sx={{ color: colors.grey[700], fontWeight: 700 }}>{offlineCount}</Typography>\r\n          </Paper>\r\n\r\n          <Paper sx={{ p: 2, minWidth: 200 }}>\r\n            <Typography variant=\"subtitle2\" color=\"text.secondary\">Created (last 7 days)</Typography>\r\n            <Typography variant=\"h5\" sx={{ fontWeight: 700 }}>{createdLast7Days}</Typography>\r\n          </Paper>\r\n\r\n          <Box sx={{ flex: 1 }} />\r\n\r\n          <Button variant=\"contained\" onClick={() => setRefreshKey((k) => k + 1)}>Refresh</Button>\r\n        </Stack>\r\n      </Grid>\r\n\r\n      {/* Controls + Chart */}\r\n      <Grid item xs={12} md={4}>\r\n        <Paper sx={{ p: 2 }}>\r\n          <Stack spacing={2}>\r\n            <Stack direction=\"row\" alignItems=\"center\" spacing={1}>\r\n              <Avatar sx={{ bgcolor: colors.indigo[500] }}><Money /></Avatar>\r\n              <Box>\r\n                <Typography variant=\"subtitle1\">Visualize Users</Typography>\r\n                <Typography variant=\"caption\" color=\"text.secondary\">Choose chart type and grouping column</Typography>\r\n              </Box>\r\n            </Stack>\r\n\r\n            <TextField select size=\"small\" label=\"Chart type\" value={chartType} onChange={(e) => setChartType(e.target.value)}>\r\n              <MenuItem value=\"pie\">Pie</MenuItem>\r\n              <MenuItem value=\"bar\">Bar</MenuItem>\r\n            </TextField>\r\n\r\n            <TextField select size=\"small\" label=\"Group by\" value={groupBy} onChange={(e) => setGroupBy(e.target.value)}>\r\n              {fieldOptions.map((f) => (\r\n                <MenuItem key={f} value={f}>{f}</MenuItem>\r\n              ))}\r\n            </TextField>\r\n\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Showing top {aggregated.length} groups\r\n            </Typography>\r\n\r\n            <Box>\r\n              <Button variant=\"outlined\" size=\"small\" onClick={() => { setChartType(\"pie\"); setGroupBy(\"country\") }}>\r\n                Quick: Country (Pie)\r\n              </Button>\r\n              <Button sx={{ ml: 1 }} variant=\"outlined\" size=\"small\" onClick={() => { setChartType(\"bar\"); setGroupBy(\"gender\") }}>\r\n                Quick: Gender (Bar)\r\n              </Button>\r\n            </Box>\r\n          </Stack>\r\n        </Paper>\r\n      </Grid>\r\n\r\n      <Grid item xs={12} md={8}>\r\n        <Paper sx={{ p: 2, minHeight: 360 }}>\r\n          <Typography variant=\"h6\" sx={{ mb: 1 }}>{chartType === \"pie\" ? \"Distribution (Pie)\" : \"Distribution (Bar)\"}</Typography>\r\n\r\n          {loading ? (\r\n            <Box sx={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: 240 }}>\r\n              <CircularProgress />\r\n            </Box>\r\n          ) : error ? (\r\n            <Typography color=\"error\">{error}</Typography>\r\n          ) : aggregated.length === 0 ? (\r\n            <Typography color=\"text.secondary\">No data to display.</Typography>\r\n          ) : chartType === \"pie\" ? (\r\n            <Box sx={{ display: \"flex\", justifyContent: \"center\" }}>\r\n              <PieChart series={pieSeries} width={360} height={320} />\r\n            </Box>\r\n          ) : (\r\n            <Box>\r\n              <BarChart xAxis={barXAxis} series={barSeries} height={320} />\r\n            </Box>\r\n          )}\r\n        </Paper>\r\n      </Grid>\r\n\r\n      {/* Recent users preview */}\r\n      <Grid item xs={12}>\r\n        <Paper sx={{ p: 2 }}>\r\n          <Typography variant=\"subtitle1\" sx={{ mb: 1 }}>Recent accounts (latest 10)</Typography>\r\n          <Box>\r\n            {loading ? (\r\n              <Typography variant=\"body2\" color=\"text.secondary\">Loading...</Typography>\r\n            ) : (\r\n              users.slice().reverse().slice(0, 10).map((u) => (\r\n                <Stack key={u._id || u.id || JSON.stringify(u).slice(0,8)} direction=\"row\" spacing={2} alignItems=\"center\" sx={{ py: 1, borderBottom: \"1px solid\", borderColor: \"divider\" }}>\r\n                  <Avatar sx={{ bgcolor: colors.blue[500], width: 36, height: 36 }}>{(u.pseudo || u.firstName || \"U\").charAt(0)}</Avatar>\r\n                  <Box sx={{ minWidth: 220 }}>\r\n                    <Typography variant=\"subtitle2\">\r\n                      {u.pseudo || u.firstName || u.email || (u._id || u.id)}\r\n                      {u?.isOnlineComputed ? (\r\n                        <Typography component=\"span\" sx={{ ml: 1, color: colors.green[700], fontWeight: 600 }} variant=\"caption\">• online</Typography>\r\n                      ) : null}\r\n                    </Typography>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">{u.country || \"—\"} — {u.gender || \"—\"}</Typography>\r\n                  </Box>\r\n                  <Box sx={{ ml: \"auto\" }}>\r\n                    <Typography variant=\"caption\" color=\"text.secondary\">{u.createdAt ? new Date(u.createdAt).toLocaleString() : \"\"}</Typography>\r\n                  </Box>\r\n                </Stack>\r\n              ))\r\n            )}\r\n          </Box>\r\n        </Paper>\r\n      </Grid>\r\n\r\n      {/* Online users dialog */}\r\n      <Dialog open={openOnlineList} onClose={handleCloseOnline} fullWidth maxWidth=\"sm\">\r\n        <DialogTitle>\r\n          Online users ({onlineUsers.length})\r\n          <IconButton\r\n            aria-label=\"close\"\r\n            onClick={handleCloseOnline}\r\n            sx={{ position: \"absolute\", right: 8, top: 8 }}\r\n            size=\"large\"\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          {onlineUsers.length === 0 ? (\r\n            <Typography color=\"text.secondary\">No users online</Typography>\r\n          ) : (\r\n            <List>\r\n              {onlineUsers.map((u) => (\r\n                <ListItem key={u._id || u.id || JSON.stringify(u).slice(0,8)}>\r\n                  <ListItemAvatar>\r\n                    <Avatar sx={{ bgcolor: colors.blue[500], width: 36, height: 36 }}>\r\n                      {(u.pseudo || u.firstName || \"U\").charAt(0)}\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText\r\n                    primary={u.pseudo || u.firstName || u.email || (u._id || u.id)}\r\n                    secondary={u.country ? `${u.country} — ${u.gender || \"—\"}` : (u.gender || \"—\")}\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            </List>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Grid>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}